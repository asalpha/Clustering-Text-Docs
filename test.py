import collections
from nltk import word_tokenize
from nltk.corpus import stopwords
from nltk.stem.wordnet import WordNetLemmatizer
from sklearn.cluster import KMeans
from sklearn.feature_extraction.text import TfidfVectorizer



example = ['PWC cust connect frozen', 'PWC Cust connect frozen', 'PWC  Cust connect frozen', 'cust connect frozen',
'Cust connect frozen', 'PEC cust connect frozen', 'Pwc Cust connect frozen', 'PWC cust connect frozen tfsa not loading',
'PWC cust connect frozen error 103','OC - unable to open file on network drive',
'OCSC - missing network drive',
'URGENT OC - unable to access files on network drive',
'OC - Network drive not mapped',
'USOC - windows - add network Drive',
'MI - Cannot Access Network Drive',
'How to gain access to a network drive.',
'M&I Connect - Map network drive and printer',
'USOC - How To map network drive',
'Map network drive request',
'request to map network drive',
'user needs to be mapped to network drive',
'request to map network drive',
'How to get access to a shared network drive.',
'How to get access to a shared network drive.',
'MICROSOFT PATCH UPDATE CMRI70297350',
'MICROSOFT PATCH UPDATE CMRI70297350',
'MICROSOFT PATCH UPDATE CMRI70297357',
'MICROSOFT PATCH UPDATE CMRI70297357',
'MICROSOFT PATCH UPDATE CMRI70361938',
'MICROSOFT PATCH UPDATE CMRI70361938',
'MICROSOFT PATCH UPDATE CMRI70394042',
'MICROSOFT PATCH UPDATE CMRI70394042',
'MICROSOFT PATCH UPDATE CMRI70297352',
'MICROSOFT PATCH UPDATE CMRI70297352',
'MICROSOFT PATCH UPDATE CMRI70394086',
'MICROSOFT PATCH UPDATE CMRI70394086',
'MICROSOFT PATCH UPDATE CMRI70394048',
'MICROSOFT PATCH UPDATE CMRI70394048',
'MICROSOFT PATCH UPDATE CMRI70360996',
'MICROSOFT PATCH UPDATE CMRI70360996',
'MICROSOFT PATCH UPDATE CMRI70394045',
'MICROSOFT PATCH UPDATE CMRI70394045',
'MICROSOFT PATCH UPDATE CMRI70394055',
'MICROSOFT PATCH UPDATE CMRI70394055',
'MICROSOFT PATCH UPDATE CMRI70407062',
'MICROSOFT PATCH UPDATE CMRI70407062',
'MICROSOFT PATCH UPDATE CMRI70407083',
'MICROSOFT PATCH UPDATE CMRI70407083',
'MICROSOFT PATCH UPDATE CMRI70407114',
'MICROSOFT PATCH UPDATE CMRI70407114',
'MICROSOFT PATCH UPDATE CMRI70407182',
'MICROSOFT PATCH UPDATE CMRI70407182',
'MICROSOFT PATCH UPDATE CMRI70394083',
'MICROSOFT PATCH UPDATE CMRI70394083',
'MICROSOFT PATCH UPDATE CMRI70407108',
'MICROSOFT PATCH UPDATE CMRI70407108',
'MICROSOFT PATCH UPDATE CMRI70407187',
'MICROSOFT PATCH UPDATE CMRI70407187',
'MICROSOFT PATCH UPDATE CMRI70394041',
'MICROSOFT PATCH UPDATE CMRI70394041',
'MICROSOFT PATCH UPDATE CMRI70394087',
'MICROSOFT PATCH UPDATE CMRI70394087',
'MICROSOFT PATCH UPDATE CMRI70407055',
'MICROSOFT PATCH UPDATE CMRI70407055',
'MICROSOFT PATCH UPDATE CMRI70407074',
'MICROSOFT PATCH UPDATE CMRI70407074',
'MICROSOFT PATCH UPDATE CMRI70407110',
'MICROSOFT PATCH UPDATE CMRI70407110',
'MICROSOFT PATCH UPDATE CMRI70407183',
'MICROSOFT PATCH UPDATE CMRI70407183',
'MICROSOFT PATCH UPDATE CMRI70407192',
'MICROSOFT PATCH UPDATE CMRI70407192',
'MICROSOFT PATCH UPDATE CMRI70407193',
'MICROSOFT PATCH UPDATE CMRI70407193',
'MICROSOFT PATCH UPDATE CMRI70407194',
'MICROSOFT PATCH UPDATE CMRI70407194',
'MICROSOFT PATCH UPDATE CMRI70407239',
'MICROSOFT PATCH UPDATE CMRI70407239',
'MICROSOFT PATCH UPDATE CMRI70407212',
'MICROSOFT PATCH UPDATE CMRI70407212',
'MICROSOFT PATCH UPDATE CMRI70407209',
'MICROSOFT PATCH UPDATE CMRI70407209',
'MICROSOFT PATCH UPDATE CMRI70407210',
'MICROSOFT PATCH UPDATE CMRI70407210',
'MICROSOFT PATCH UPDATE CMRI70407211',
'MICROSOFT PATCH UPDATE CMRI70407211',
'MICROSOFT PATCH UPDATE CMRI70407216',
'MICROSOFT PATCH UPDATE CMRI70407216',
'MICROSOFT PATCH UPDATE CMRI70407218',
'MICROSOFT PATCH UPDATE CMRI70407218',
'MICROSOFT PATCH UPDATE CMRI70407237',
'MICROSOFT PATCH UPDATE CMRI70407237',
'MICROSOFT PATCH UPDATE CMRI70407414',
'MICROSOFT PATCH UPDATE CMRI70407414',
'MICROSOFT PATCH UPDATE CMRI70407415',
'MICROSOFT PATCH UPDATE CMRI70407415',
'MICROSOFT PATCH UPDATE CMRI70407170',
'MICROSOFT PATCH UPDATE CMRI70407170',
'MICROSOFT PATCH UPDATE CMRI70407422',
'MICROSOFT PATCH UPDATE CMRI70407422',
'MICROSOFT PATCH UPDATE CMRI70407423',
'MICROSOFT PATCH UPDATE CMRI70407423',
'MICROSOFT PATCH UPDATE CMRI70407206',
'MICROSOFT PATCH UPDATE CMRI70407206',
'MICROSOFT PATCH UPDATE CMRI70407246',
'MICROSOFT PATCH UPDATE CMRI70407246',
'MICROSOFT PATCH UPDATE CMRI70407249',
'MICROSOFT PATCH UPDATE CMRI70407249',
'MICROSOFT PATCH UPDATE CMRI70407252',
'MICROSOFT PATCH UPDATE CMRI70407252',
'MICROSOFT PATCH UPDATE CMRI70407409',
'MICROSOFT PATCH UPDATE CMRI70407409',
'MICROSOFT PATCH UPDATE CMRI70407417',
'MICROSOFT PATCH UPDATE CMRI70407417',
'MICROSOFT PATCH UPDATE CMRI70407424',
'MICROSOFT PATCH UPDATE CMRI70407424',
'MICROSOFT PATCH UPDATE CMRI70407461',
'MICROSOFT PATCH UPDATE CMRI70407461',
'MICROSOFT PATCH UPDATE CMRI70428274',
'MICROSOFT PATCH UPDATE CMRI70428274',
'MICROSOFT PATCH UPDATE CMRI70428355',
'MICROSOFT PATCH UPDATE CMRI70428355',
'MICROSOFT PATCH UPDATE CMRI70428408',
'MICROSOFT PATCH UPDATE CMRI70428408',
'MICROSOFT PATCH UPDATE CMRI70428211',
'MICROSOFT PATCH UPDATE CMRI70428211',
'MICROSOFT PATCH UPDATE CMRI70428380',
'MICROSOFT PATCH UPDATE CMRI70428380',
'MICROSOFT PATCH UPDATE CMRI70428414',
'MICROSOFT PATCH UPDATE CMRI70428414',
'MICROSOFT PATCH UPDATE CMRI70428465',
'MICROSOFT PATCH UPDATE CMRI70428465',
'MICROSOFT PATCH UPDATE CMRI70428484',
'MICROSOFT PATCH UPDATE CMRI70428484',
'MICROSOFT PATCH UPDATE CMRI70394069',
'MICROSOFT PATCH UPDATE CMRI70394069',
'MICROSOFT PATCH UPDATE CMRI70407035',
'MICROSOFT PATCH UPDATE CMRI70407035',
'MICROSOFT PATCH UPDATE CMRI70428542',
'MICROSOFT PATCH UPDATE CMRI70428542',
'MICROSOFT PATCH UPDATE CMRI70436679',
'MICROSOFT PATCH UPDATE CMRI70436679',
'MICROSOFT PATCH UPDATE CMRI70428200',
'MICROSOFT PATCH UPDATE CMRI70428200',
'MICROSOFT PATCH UPDATE CMRI70428252',
'MICROSOFT PATCH UPDATE CMRI70428252']

# tokenizer function
def wrd_tknizer(sen):
        tokens = word_tokenize(sen)
        print('1111111111111111111')
        print(tokens)
        print('1111111111111111111')
        lmtzed_tokens = [lemmatizer.lemmatize(t) for t in tokens if t not in stopwords.words('english')]
        print('22222222222222222222')
        print(lmtzed_tokens)
        print('22222222222222222222')
        return lmtzed_tokens



